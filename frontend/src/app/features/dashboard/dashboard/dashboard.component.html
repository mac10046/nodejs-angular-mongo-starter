<app-navbar></app-navbar>

<div class="container py-5">
  <div class="row">
    <div class="col-12">
      <!-- Welcome Card -->
      <div class="dashboard-card mb-4">
        <div class="d-flex align-items-center">
          @if (user?.avatar) {
          <img [src]="user?.avatar" alt="Profile" class="user-avatar me-3" style="width: 60px; height: 60px;" />
          } @else {
          <div class="user-avatar me-3" style="width: 60px; height: 60px; font-size: 1.5rem;">
            {{ userInitials }}
          </div>
          }
          <div>
            <h2 class="mb-1">Welcome back, {{ user?.name }}!</h2>
            <p class="text-muted mb-0">{{ user?.email }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-4">
    <!-- Profile Card -->
    <div class="col-md-6 col-lg-4">
      <div class="dashboard-card h-100">
        <div class="d-flex align-items-center mb-3">
          <div class="icon-wrapper me-3" style="background: #EEF2FF; padding: 12px; border-radius: 12px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4F46E5" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
              <circle cx="12" cy="7" r="4" />
            </svg>
          </div>
          <h5 class="mb-0">Profile</h5>
        </div>
        <p class="text-muted">View and edit your profile information</p>
        <a routerLink="/profile" class="btn btn-outline-primary">View Profile</a>
      </div>
    </div>

    <!-- Security Card -->
    <div class="col-md-6 col-lg-4">
      <div class="dashboard-card h-100">
        <div class="d-flex align-items-center mb-3">
          <div class="icon-wrapper me-3" style="background: #FEF3C7; padding: 12px; border-radius: 12px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
              <path d="M7 11V7a5 5 0 0 1 10 0v4" />
            </svg>
          </div>
          <h5 class="mb-0">Security</h5>
        </div>
        <p class="text-muted">Update your password and security settings</p>
        <a routerLink="/change-password" class="btn btn-outline-warning">Change Password</a>
      </div>
    </div>

    <!-- Account Status Card -->
    <div class="col-md-6 col-lg-4">
      <div class="dashboard-card h-100">
        <div class="d-flex align-items-center mb-3">
          <div class="icon-wrapper me-3" style="background: #D1FAE5; padding: 12px; border-radius: 12px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
              <polyline points="22 4 12 14.01 9 11.01" />
            </svg>
          </div>
          <h5 class="mb-0">Account Status</h5>
        </div>
        <ul class="list-unstyled mb-0">
          <li class="d-flex align-items-center mb-2">
            @if (user?.isEmailVerified) {
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2" class="me-2">
              <polyline points="20 6 9 17 4 12" />
            </svg>
            <span class="text-success">Email Verified</span>
            } @else {
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" class="me-2">
              <circle cx="12" cy="12" r="10" />
              <line x1="15" y1="9" x2="9" y2="15" />
              <line x1="9" y1="9" x2="15" y2="15" />
            </svg>
            <span class="text-danger">Email Not Verified</span>
            }
          </li>
          <li class="d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4F46E5" stroke-width="2" class="me-2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            </svg>
            <span>Signed in via {{ user?.authProvider === 'google' ? 'Google' : 'Email' }}</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

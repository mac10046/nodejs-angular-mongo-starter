<div class="auth-container">
  <div class="auth-card">
    <h1 class="auth-title">Forgot Password?</h1>
    <p class="auth-subtitle">Enter your email and we'll send you a reset link</p>

    <!-- Success Alert -->
    @if (successMessage) {
    <div class="alert alert-success" role="alert">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="me-2">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
        <polyline points="22 4 12 14.01 9 11.01" />
      </svg>
      {{ successMessage }}
      <div class="mt-3">
        <a routerLink="/login" class="auth-link">Back to Login</a>
      </div>
    </div>
    } @else {
    <!-- Forgot Password Form -->
    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label for="email" class="form-label">Email address</label>
        <input
          type="email"
          class="form-control"
          id="email"
          formControlName="email"
          placeholder="Enter your email"
          [class.is-invalid]="f['email'].touched && f['email'].invalid"
        />
        @if (f['email'].touched && f['email'].errors) {
        <div class="invalid-feedback">
          @if (f['email'].errors['required']) { Email is required } @else if (f['email'].errors['email']) { Please
          enter a valid email }
        </div>
        }
      </div>

      <button type="submit" class="btn btn-primary w-100" [disabled]="isLoading">
        @if (isLoading) {
        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
        Sending...
        } @else { Send Reset Link }
      </button>
    </form>

    <p class="text-center mt-4 mb-0">
      Remember your password?
      <a routerLink="/login" class="auth-link">Sign in</a>
    </p>
    }
  </div>
</div>
